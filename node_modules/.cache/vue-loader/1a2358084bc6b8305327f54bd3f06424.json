{"remainingRequest":"/Users/eum/git/vue-project/cauldron/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eum/git/vue-project/cauldron/src/components/Input.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eum/git/vue-project/cauldron/src/components/Input.vue","mtime":1620633758378},{"path":"/Users/eum/git/vue-project/cauldron/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eum/git/vue-project/cauldron/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eum/git/vue-project/cauldron/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eum/git/vue-project/cauldron/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNb2RhbCBmcm9tICIuL2NvbW1vbi9Nb2RhbCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0RGF0YTogIiIsCiAgICAgIHNlbGVjdGVkOiAiIiwKICAgICAgb3V0cHV0UmVzdWx0OiAiIiwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGlja0NvbnZlcnQoKSB7CiAgICAgIGlmICh0aGlzLmlucHV0RGF0YSAhPT0gIiIpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZCA9PT0gImNvcHkiKSB7CiAgICAgICAgICB0aGlzLm91dHB1dFJlc3VsdCA9IHRoaXMuaW5wdXREYXRhOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZCA9PT0gInF1b3RlIikgewogICAgICAgICAgdGhpcy5vdXRwdXRSZXN1bHQgPSAnIicgKyB0aGlzLmlucHV0RGF0YSArICciJzsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWQgPT09ICJsaW5lX2NvdW50IikgewogICAgICAgICAgdGhpcy5vdXRwdXRSZXN1bHQgPSB0aGlzLmlucHV0RGF0YS5zcGxpdCgiXG4iKS5sZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkID09PSAiZW5jb2RlX3V0ZjgiKSB7CiAgICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7CiAgICAgICAgICBjb25zdCBjb2RlcyA9IGVuY29kZXIuZW5jb2RlKHRoaXMuaW5wdXREYXRhKTsKICAgICAgICAgIHRoaXMub3V0cHV0UmVzdWx0ID0gY29kZXM7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkID09PSAic2hvcnR0cmFjZSIpIHsKICAgICAgICAgIGNvbnN0IGlzX3NraXBwYWJsZSA9IChsaW5lKSA9PiB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBsaW5lLm1hdGNoKC9vcmdcLmFwYWNoZVwuZmVsaXhcLmh0dHBcLmJhc2VcLmludGVybmFsXC4vKSB8fAogICAgICAgICAgICAgIGxpbmUubWF0Y2goL1wuZG9GaWx0ZXJcKC8pCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIGNvbnN0IGlucHV0X2xpbmVzID0gdGhpcy5pbnB1dERhdGEuc3BsaXQoIlxuIik7CiAgICAgICAgICBsZXQgb3V0cHV0X2xpbmVzID0gW107CiAgICAgICAgICBsZXQgcGFja2FnZXMgPSBbIiIsICIiLCAiIl07CgogICAgICAgICAgY29uc3QgbGluZV9jb3VudCA9IGlucHV0X2xpbmVzLmxlbmd0aDsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZV9jb3VudDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBpbnB1dF9saW5lc1tpXTsKCiAgICAgICAgICAgIGlmICghaXNfc2tpcHBhYmxlKGxpbmUpKSB7CiAgICAgICAgICAgICAgb3V0cHV0X2xpbmVzLnB1c2gobGluZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHN0YWNrX3JlZ2V4ID0gL1xzK2F0IChbXHcuJDw+XSspXCgoW14pXSspXCkvOwogICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gc3RhY2tfcmVnZXguZXhlYyhsaW5lKSB8fCBbXTsKICAgICAgICAgICAgY29uc29sZS5sb2coeyBtYXRjaGVzIH0pOwoKICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID09IDMpIHsKICAgICAgICAgICAgICBjb25zdCBtb2R1bGVzID0gbWF0Y2hlc1sxXS5zcGxpdCgiLiIpOwogICAgICAgICAgICAgIGNvbnN0IGpfbWV0aG9kID0gbW9kdWxlcy5wb3AoKTsKICAgICAgICAgICAgICBjb25zdCBqX2NsYXNzID0gbW9kdWxlcy5wb3AoKTsKICAgICAgICAgICAgICBjb25zdCBqX3BhY2thZ2UgPSBtb2R1bGVzLmpvaW4oIi4iKTsKICAgICAgICAgICAgICBwYWNrYWdlcy5wdXNoKGpfcGFja2FnZSk7CiAgICAgICAgICAgICAgcGFja2FnZXMuc2hpZnQoKTsKICAgICAgICAgICAgICBjb25zdCBqX3NvdXJjZSA9IG1hdGNoZXNbMl07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coWwogICAgICAgICAgICAgICAgeyBqX2NsYXNzIH0sCiAgICAgICAgICAgICAgICB7IGpfbWV0aG9kIH0sCiAgICAgICAgICAgICAgICB7IGpfc291cmNlIH0sCiAgICAgICAgICAgICAgICB7IHBhY2thZ2VzIH0sCiAgICAgICAgICAgICAgXSk7CgogICAgICAgICAgICAgIGlmIChwYWNrYWdlc1swXSA9PT0gal9wYWNrYWdlICYmIHBhY2thZ2VzWzFdID09PSBqX3BhY2thZ2UpIHsKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgIS9ccy0gXHcvLmV4ZWMoaW5wdXRfbGluZXNbaSArIDFdKSAmJgogICAgICAgICAgICAgICAgICBvdXRwdXRfbGluZXMuc2xpY2UoLTEpWzBdICE9PSAiLi4uIgogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIG91dHB1dF9saW5lcy5wb3AoKTsKICAgICAgICAgICAgICAgICAgb3V0cHV0X2xpbmVzLnBvcCgpOwogICAgICAgICAgICAgICAgICBvdXRwdXRfbGluZXMucHVzaCgiLi4uIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhY2thZ2VzID0gWyIiLCAiIiwgIiJdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5vdXRwdXRSZXN1bHQgPSBvdXRwdXRfbGluZXMuam9pbigiXG4iKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW5wdXQgdGV4dCBhcmVh44Gr5L2V44KC5YWl5Yqb44GV44KM44Gq44GE54q25oWL44Gn44Oc44K/44Oz44KS44Kv44Oq44OD44Kv44GZ44KL44Go44Ki44Op44O844OI44KS5Ye644GZCiAgICAgICAgdGhpcy5zaG93TW9kYWwgPSAhdGhpcy5zaG93TW9kYWw7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNb2RhbCwKICB9LAp9Owo="},{"version":3,"sources":["Input.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Input.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"cauldronInput\">\n    <p class=\"inputTitle\">Input Data</p>\n    <textarea v-model=\"inputData\" placeholder=\"Please, input data\"></textarea>\n    <div class=\"selectBtn\">\n      <span>\n        <select v-model=\"selected\">\n          <option disabled value=\"\">Please select one</option>\n          <option>copy</option>\n          <option>quote</option>\n          <option>line_count</option>\n          <option>encode_utf8</option>\n          <option>shorttrace</option>\n        </select>\n      </span>\n      <button v-on:click=\"clickConvert\">CONVERT</button>\n      <Modal v-if=\"showModal\" @close=\"showModal = false\">\n        <h3 slot=\"header\">\n          Warning!\n          <i class=\"closeModalBtn fas fa-times\" @click=\"showModal = false\"></i>\n        </h3>\n        <h5 slot=\"body\">Please Input Data!</h5>\n      </Modal>\n    </div>\n    <p class=\"inputTitle\">Output Result</p>\n    <textarea v-model=\"outputResult\"></textarea>\n  </div>\n</template>\n\n<script>\nimport Modal from \"./common/Modal\";\n\nexport default {\n  data() {\n    return {\n      inputData: \"\",\n      selected: \"\",\n      outputResult: \"\",\n      showModal: false,\n    };\n  },\n  methods: {\n    clickConvert() {\n      if (this.inputData !== \"\") {\n        if (this.selected === \"copy\") {\n          this.outputResult = this.inputData;\n        } else if (this.selected === \"quote\") {\n          this.outputResult = '\"' + this.inputData + '\"';\n        } else if (this.selected === \"line_count\") {\n          this.outputResult = this.inputData.split(\"\\n\").length;\n        } else if (this.selected === \"encode_utf8\") {\n          const encoder = new TextEncoder();\n          const codes = encoder.encode(this.inputData);\n          this.outputResult = codes;\n        } else if (this.selected === \"shorttrace\") {\n          const is_skippable = (line) => {\n            if (\n              line.match(/org\\.apache\\.felix\\.http\\.base\\.internal\\./) ||\n              line.match(/\\.doFilter\\(/)\n            ) {\n              return true;\n            } else {\n              return false;\n            }\n          };\n          const input_lines = this.inputData.split(\"\\n\");\n          let output_lines = [];\n          let packages = [\"\", \"\", \"\"];\n\n          const line_count = input_lines.length;\n          for (let i = 0; i < line_count; i++) {\n            const line = input_lines[i];\n\n            if (!is_skippable(line)) {\n              output_lines.push(line);\n            }\n\n            const stack_regex = /\\s+at ([\\w.$<>]+)\\(([^)]+)\\)/;\n            const matches = stack_regex.exec(line) || [];\n            console.log({ matches });\n\n            if (matches.length == 3) {\n              const modules = matches[1].split(\".\");\n              const j_method = modules.pop();\n              const j_class = modules.pop();\n              const j_package = modules.join(\".\");\n              packages.push(j_package);\n              packages.shift();\n              const j_source = matches[2];\n              console.log([\n                { j_class },\n                { j_method },\n                { j_source },\n                { packages },\n              ]);\n\n              if (packages[0] === j_package && packages[1] === j_package) {\n                if (\n                  !/\\s- \\w/.exec(input_lines[i + 1]) &&\n                  output_lines.slice(-1)[0] !== \"...\"\n                ) {\n                  output_lines.pop();\n                  output_lines.pop();\n                  output_lines.push(\"...\");\n                }\n              }\n            } else {\n              packages = [\"\", \"\", \"\"];\n            }\n          }\n\n          this.outputResult = output_lines.join(\"\\n\");\n        }\n      } else {\n        // input text areaに何も入力されない状態でボタンをクリックするとアラートを出す\n        this.showModal = !this.showModal;\n      }\n    },\n  },\n  components: {\n    Modal,\n  },\n};\n</script>\n\n<style scoped>\ntextarea {\n  height: 300px;\n  width: 80%;\n  font-family: Consolas, \"Courier New\", monospace;\n}\n#cauldronInput {\n  color: rgb(49, 49, 153);\n}\n.inputTitle {\n  font-size: 2rem;\n  margin-bottom: 10px;\n}\n.selectBtn > button {\n  margin-left: 5px;\n}\n.closeModalBtn {\n  color: #42b983;\n}\n</style>\n"]}]}